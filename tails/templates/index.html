{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="container px-2 py-4 mx-auto">
        <div class="xl:w-2/3 w-full mx-auto overflow-auto">
            <table class="table-auto w-full text-left whitespace-no-wrap">
                <thead>
                    <tr>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 rounded-tl rounded-bl">Title</th>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 w-4 hidden md:table-cell">場所</th>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 w-28 hidden md:table-cell">ID</th>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 text-center w-10 table-cell md:hidden">
                            <div>場所</div>
                            <div>ID</div>
                        </th>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 w-16 hidden sm:table-cell">最終更新</th>
                        <th class="px-1 py-2 title-font tracking-wider font-midium text-gray-900 text-sm bg-gray-100 text-center w-6 rounded-tr rounded-br">返信</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="border-b">
                        <td class="py-1">
                            <span class="hover:underline cursor-pointer">にゃんにゃん</span>
                        </td>
                        <td class="px-1 py-1 hidden md:table-cell place_string">PC</td>
                        <td class="px-1 py-1 hidden md:table-cell id_string">aEJMhlUvLMDX</td>
                        <td class="px-1 py-1 table-cell md:hidden">
                            <div class="h-3 w-3 rounded-lg m-auto place_color"></div>
                            <div class="h-3 w-3 rounded-lg m-auto id_color"></div>
                        </td>
                        <td class="px-1 py-3 hidden sm:table-cell">2021/03/03 15:01</td>
                        <td class="px-4 py-3 text-center">5</td>
                    </tr>
                    <tr class="border-b">
                        <td class="py-1">
                            <span class="hover:underline cursor-pointer">なんとかかんとか売り なんとかかんとか買い</span>
                        </td>
                        <td class="px-1 py-1 hidden md:table-cell place_string">SP</td>
                        <td class="px-1 py-1 hidden md:table-cell id_string">QlmzpRPxD1LL</td>
                        <td class="px-1 py-1 table-cell md:hidden">
                            <div class="h-3 w-3 rounded-lg m-auto place_color"></div>
                            <div class="h-3 w-3 rounded-lg m-auto id_color"></div>
                        </td>
                        <td class="px-1 py-3 hidden sm:table-cell">2021/03/03 13:33</td>
                        <td class="px-4 py-3 text-center">1</td>
                    </tr>
                    <tr class="border-b">
                        <td class="py-1">
                            <span class="hover:underline cursor-pointer">新モバ買い</span>
                        </td>
                        <td class="px-1 py-1 hidden md:table-cell place_string">PC/SP</td>
                        <td class="px-1 py-1 hidden md:table-cell id_string">RZlMsRD5AvQS</td>
                        <td class="px-1 py-1 table-cell md:hidden">
                            <div class="h-3 w-3 rounded-lg m-auto place_color"></div>
                            <div class="h-3 w-3 rounded-lg m-auto id_color"></div>
                        </td>
                        <td class="px-1 py-3 hidden sm:table-cell">2021/03/02 20:56</td>
                        <td class="px-4 py-3 text-center">5</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script src="{% static 'js/chame.js' %}"></script>
    <script type="text/javascript">
        (function(){
            document.querySelectorAll("tbody tr").forEach(function(e){
                const id_color = e.querySelector("td.id_string").textContent.toRGBCode();
                e.querySelector("td .id_color").style.background = id_color;
                const place = e.querySelector("td.place_string").textContent;
                const place_element = e.querySelector("td .place_color")
                if(place == "PC")
                    place_element.classList.add("bg-yellow-500")
                else if(place == "SP")
                    place_element.classList.add("bg-green-500")
                else
                    place_element.classList.add("bg-blue-500")
            })
        }())
    </script>
{% endblock content %}